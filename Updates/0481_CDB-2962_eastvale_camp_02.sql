-- Add missing events for peasants in Eastvale logging camp
-- Thanks @stan84 for reporting
-- Source: https://youtu.be/moUdwsTCjZs
-- https://wow.gamepedia.com/Supervisor_Raelen
-- Closes https://github.com/cmangos/issues/issues/2037

-- Respawn at first waypoint: lumberjack and peasants
DELETE FROM creature WHERE guid IN (81257, 81249, 81250, 81252, 81348, 81349);
INSERT INTO `creature` (`guid`, `id`, `map`, `modelid`, `equipment_id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `spawndist`, `currentwaypoint`, `curhealth`, `curmana`, `DeathState`, `MovementType`) VALUES
(81257, 1975, 0, 0, 0, -9417.53, -1330.5, 51.4724, 5.63063, 120, 120, 0, 0, 0, 0, 0, 2),
(81249, 11328, 0, 0, 0, -9535.65, -1329.81, 47.3419, 1.94127, 120, 120, 0, 0, 0, 0, 0, 2),
(81250, 11328, 0, 0, 0, -9536.3, -1273.02, 43.5071, 2.92542, 120, 120, 0, 0, 0, 0, 0, 2),
(81252, 11328, 0, 0, 0, -9529.32, -1323.67, 45.7744, 2.70945, 120, 120, 0, 0, 0, 0, 0, 2),
(81348, 11328, 0, 0, 0, -9500.59, -1283.86, 43.4229, 0.00374397, 120, 120, 0, 0, 0, 0, 0, 2),
(81349, 11328, 0, 0, 0, -9535.3, -1304.7, 44.702, 5.28088, 120, 120, 0, 0, 0, 0, 0, 2);

-- Clean-up addons
UPDATE creature_template_addon SET emote=0 WHERE entry=11328;
DELETE FROM creature_addon WHERE guid IN (81249, 81250, 81349);

DELETE FROM dbscripts_on_creature_movement WHERE id IN (1234, 1132801, 1132802, 1132803);
INSERT INTO `dbscripts_on_creature_movement` (`id`, `delay`, `priority`, `command`, `datalong`, `datalong2`, `datalong3`, `buddy_entry`, `search_radius`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES 
(1234, 0, 0, 1, 234, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'GENERIC EMOTE - STATE_WORK_CHOPWOOD'),
(1132801, 0000, 0, 23, 89, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Eastvale Peasant: change model to wield chopped wood'),
(1132801, 0000, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Eastvale Peasant: EMOTE_ONESHOT_NONE'),
(1132802, 1000, 0, 23, 308, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Eastvale Peasant: change model to wield chopped wood to wield nothing'),
(1132803, 0, 0, 16, 6288, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Eastvale Peasant: Play sound'),
(1132803, 2000, 0, 0, 0, 0, 0, 10616, 20, 3, 2000011050, 2000011051, 2000011052, 0, 0, 0, 0, 0, 0, 'Eastvale Peasant: Supervisor Raelen say text'),
(1132803, 5000, 0, 1, 25, 0, 0, 10616, 20, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Eastvale Peasant: Supervisor Raelen EMOTE_ONESHOT_POINT'),
(1132803, 5000, 0, 16, 6242, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Eastvale Peasant: Play sound');

DELETE FROM dbscript_string WHERE entry IN (2000011050, 2000011051, 2000011052); -- 2000000050, 2000000051, 2000000052
INSERT INTO `dbscript_string` (`entry`, `content_default`, `content_loc1`, `content_loc2`, `content_loc3`, `content_loc4`, `content_loc5`, `content_loc6`, `content_loc7`, `content_loc8`, `sound`, `type`, `language`, `emote`, `broadcast_text_id`, `comment`) VALUES
(2000011050, 'We have yet to meet our quota for the wood demand.  Now back to work with you.', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 7, 0, 6890, NULL),
(2000011051, 'Daylight is still upon us so let\'s see that axe of yours chopping some more wood.', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 7, 0, 6891, NULL),
(2000011052, 'We need to get this wagon filled by the end of the day.  So back to work with you.  Chop, chop!', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 7, 0, 6892, NULL);


-- Add waypoints
DELETE FROM creature_movement WHERE id IN (81257, 81249, 81250, 81252, 81348, 81349);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`, `comment`) VALUES
(81249, 1, -9535.6, -1329.76, 47.2559, 1.69681, 45000, 1234, NULL),
(81249, 2, -9535.6, -1329.76, 47.2559, 1.69681, 0, 1132801, NULL),
(81249, 3, -9511.59, -1332.84, 44.7722, 6.14216, 0, 0, NULL),
(81249, 4, -9509.08, -1332.48, 44.2897, 0.024354, 0, 0, NULL),
(81249, 5, -9482.27, -1313.57, 44.1488, 0.619478, 0, 0, NULL),
(81249, 6, -9469.35, -1299.53, 43.8193, 0.814103, 0, 0, NULL),
(81249, 7, -9466.68, -1297.18, 42.7987, 0.697103, 2000, 1132802, NULL),
(81249, 8, -9468.2, -1298.11, 43.2133, 3.6941, 0, 0, NULL),
(81249, 9, -9470.82, -1297.26, 43.0019, 2.8301, 0, 0, NULL),
(81249, 10, -9473.21, -1294.08, 42.1613, 2.2136, 0, 0, NULL),
(81249, 11, -9473.17, -1291.22, 41.358, 1.5971, 0, 0, NULL),
(81249, 12, -9472.45, -1289.84, 41.3334, 1.0886, 0, 0, NULL),
(81249, 13, -9471.39, -1289.45, 41.3546, 0.256103, 5000, 1132803, NULL),
(81249, 14, -9471.39, -1289.45, 41.3546, 0.256103, 2000, 0, NULL),
(81249, 15, -9475.31, -1296.12, 43.1933, 4.18129, 0, 0, NULL),
(81249, 16, -9475.11, -1302.58, 44.1457, 4.74379, 0, 0, NULL),
(81249, 17, -9480.3, -1316.58, 43.9335, 4.30054, 0, 0, NULL),
(81249, 18, -9490.53, -1328.05, 41.5203, 3.95966, 0, 0, NULL),
(81249, 19, -9511.08, -1332.95, 44.6851, 3.23179, 0, 0, NULL),
(81249, 20, -9525.83, -1333.92, 47.0105, 3.15754, 0, 0, NULL),

(81250, 1, -9536.28, -1273.01, 43.4519, 2.59007, 30000, 1234, NULL),
(81250, 2, -9536.28, -1273.01, 43.4519, 2.59007, 0, 1132801, NULL),
(81250, 3, -9521.88, -1275.68, 43.1626, 5.94482, 0, 0, NULL),
(81250, 4, -9505.93, -1281.29, 44.1637, 5.94482, 0, 0, NULL),
(81250, 5, -9486.4, -1288.17, 41.6718, 5.94482, 0, 0, NULL),
(81250, 6, -9476.64, -1292.83, 41.8459, 5.65007, 0, 0, NULL),
(81250, 7, -9471.79, -1298.24, 43.4567, 5.43745, 0, 0, NULL),
(81250, 8, -9470.03, -1298.72, 43.5124, 6.01794, 0, 0, NULL),
(81250, 9, -9466.93, -1297.14, 42.7895, 0.66626, 2000, 1132802, NULL),
(81250, 10, -9469.46, -1297.84, 43.1519, 3.41126, 0, 0, NULL),
(81250, 11, -9472.34, -1294.84, 42.3142, 1.98026, 0, 0, NULL),
(81250, 12, -9472.87, -1291.52, 41.3679, 1.68438, 0, 0, NULL),
(81250, 13, -9472.42, -1290.3, 41.3436, 1.22089, 0, 0, NULL),
(81250, 14, -9472.1, -1289.83, 41.342, 0.968885, 0, 0, NULL),
(81250, 15, -9471.03, -1289.19, 41.36, 6.18899, 5000, 1132803, NULL),
(81250, 16, -9471.03, -1289.19, 41.36, 6.18899, 2000, 0, NULL),
(81250, 17, -9481.91, -1288.05, 41.493, 2.81843, 0, 0, NULL),
(81250, 18, -9502.11, -1282.98, 43.6523, 2.96018, 0, 0, NULL),
(81250, 19, -9516.99, -1277.44, 43.8974, 2.69355, 0, 0, NULL),
(81250, 20, -9531.08, -1275.8, 42.6205, 3.00968, 0, 0, NULL),

(81252, 1, -9529.38, -1323.66, 45.7876, 2.47916, 75000, 1234, NULL),
(81252, 2, -9529.38, -1323.66, 45.7876, 2.47916, 2000, 1132801, NULL),
(81252, 3, -9518.05, -1332.69, 45.7966, 5.59322, 0, 0, NULL),
(81252, 4, -9511.41, -1332.79, 44.736, 6.1546, 0, 0, NULL),
(81252, 5, -9494.98, -1325.54, 41.6159, 0.415913, 0, 0, NULL),
(81252, 6, -9482.24, -1314.9, 43.9164, 0.720788, 0, 0, NULL),
(81252, 7, -9470.2, -1300.35, 44.0556, 0.964913, 0, 0, NULL),
(81252, 8, -9467.05, -1297.01, 42.7352, 0.876038, 2000, 1132802, NULL),
(81252, 9, -9469.95, -1297.39, 43.0062, 3.15754, 0, 0, NULL),
(81252, 10, -9472.22, -1295.39, 42.4952, 2.41954, 0, 0, NULL),
(81252, 11, -9472.75, -1291.37, 41.3663, 1.67704, 0, 0, NULL),
(81252, 12, -9472.1, -1289.87, 41.3434, 1.15954, 0, 0, NULL),
(81252, 13, -9471.29, -1289.18, 41.3534, 6.02976, 5000, 1132803, NULL),
(81252, 14, -9471.29, -1289.18, 41.3534, 6.02976, 2000, 0, NULL),
(81252, 15, -9475.63, -1294.78, 42.6363, 4.17913, 0, 0, NULL),
(81252, 16, -9475.33, -1303.75, 44.1475, 4.74951, 0, 0, NULL),
(81252, 17, -9480.23, -1316.08, 44.0408, 4.23313, 0, 0, NULL),
(81252, 18, -9485.9, -1324.32, 41.4648, 4.06776, 0, 0, NULL),
(81252, 19, -9499.39, -1331.18, 42.2869, 3.47375, 0, 0, NULL),
(81252, 20, -9512.82, -1332.8, 44.9784, 3.09801, 0, 0, NULL),
(81252, 21, -9521.54, -1330.49, 46.0507, 2.86738, 0, 0, NULL),

(81257, 1, -9413.04, -1334.53, 51.4692, 5.59541, 0, 0, NULL),
(81257, 2, -9408.97, -1337.83, 50.0284, 5.59765, 0, 0, NULL),
(81257, 3, -9405.36, -1337.53, 50.0284, 0.20772, 0, 0, NULL),
(81257, 4, -9400.8, -1336.89, 50.0284, 0.090721, 15000, 0, NULL),
(81257, 5, -9405.23, -1337.44, 50.0284, 3.22053, 0, 0, NULL),
(81257, 6, -9408.65, -1337.76, 50.0284, 3.12153, 0, 0, NULL),
(81257, 7, -9412.68, -1334.55, 51.4713, 2.52303, 0, 0, NULL),
(81257, 8, -9417.18, -1330.69, 51.4389, 2.26653, 0, 0, NULL),
(81257, 9, -9421.12, -1326.57, 51.466, 2.45103, 0, 0, NULL),
(81257, 10, -9426.09, -1324, 51.4634, 2.67941, 15000, 0, NULL),

(81348, 1, -9485.48, -1290.4, 41.4874, 5.60948, 0, 0, NULL),
(81348, 2, -9473.27, -1297.85, 43.4461, 5.7546, 0, 0, NULL),
(81348, 3, -9469.99, -1298.14, 43.2945, 6.17985, 0, 0, NULL),
(81348, 4, -9466.88, -1296.67, 42.5918, 0.987918, 2000, 1132802, NULL),
(81348, 5, -9469.45, -1298.15, 43.2686, 3.53154, 0, 0, NULL),
(81348, 6, -9472, -1295.49, 42.4992, 2.27154, 0, 0, NULL),
(81348, 7, -9472.66, -1292.08, 41.5013, 1.67754, 0, 0, NULL),
(81348, 8, -9471.59, -1289.43, 41.3488, 0.960917, 0, 0, NULL),
(81348, 9, -9471.11, -1289.39, 41.3604, 0.074417, 5000, 1132803, NULL),
(81348, 10, -9471.11, -1289.39, 41.3604, 0.074417, 2000, 0, NULL),
(81348, 11, -9498.79, -1284.33, 43.074, 2.87679, 0, 0, NULL),
(81348, 12, -9501.43, -1282.81, 43.6125, 2.54379, 0, 0, NULL),
(81348, 13, -9515.63, -1283.32, 44.2897, 3.17942, 0, 0, NULL),
(81348, 14, -9516.87, -1283.11, 44.2498, 2.86892, 0, 0, NULL),
(81348, 15, -9518.86, -1283.23, 44.1715, 2.95554, 0, 0, NULL),
(81348, 16, -9520.85, -1284.64, 44.0949, 3.66879, 0, 0, NULL),
(81348, 17, -9523.96, -1287.38, 43.9469, 3.94217, 0, 0, NULL),
(81348, 18, -9523.32, -1290.12, 44.0277, 4.86579, 60000, 1234, NULL),
(81348, 19, -9524.08, -1287.62, 43.946, 1.14792, 0, 1132801, NULL),
(81348, 20, -9521.22, -1284.78, 44.0677, 0.939797, 0, 0, NULL),
(81348, 21, -9517.13, -1283.46, 44.2479, 0.066797, 0, 0, NULL),
(81348, 22, -9509.56, -1283.9, 44.0992, 6.12723, 0, 0, NULL),
(81348, 23, -9501.62, -1282.98, 43.6054, 0.013922, 0, 0, NULL),

(81349, 1, -9535.3, -1304.79, 44.6105, 5.02586, 60000, 1234, NULL),
(81349, 2, -9535.3, -1304.79, 44.6105, 4.94486, 0, 1132801, NULL),
(81349, 3, -9536.16, -1301.24, 44.4093, 2.06817, 0, 0, NULL),
(81349, 4, -9532.34, -1293.74, 43.9304, 1.09955, 0, 0, NULL),
(81349, 5, -9521.17, -1284.78, 44.0708, 0.540423, 0, 0, NULL),
(81349, 6, -9517.42, -1283.2, 44.2314, 0.380673, 0, 0, NULL),
(81349, 7, -9501.79, -1282.83, 43.6442, 6.18798, 0, 0, NULL),
(81349, 8, -9486.02, -1289.91, 41.5058, 5.76498, 0, 0, NULL),
(81349, 9, -9473.36, -1297.59, 43.3864, 5.52873, 0, 0, NULL),
(81349, 10, -9470.14, -1298.07, 43.2746, 0.178173, 0, 0, NULL),
(81349, 11, -9468.22, -1297.9, 43.1293, 0.029673, 0, 0, NULL),
(81349, 12, -9466.9, -1296.65, 42.5853, 1.07817, 2000, 1132802, NULL),
(81349, 13, -9468.1, -1297.79, 43.0815, 3.61392, 0, 0, NULL),
(81349, 14, -9469.75, -1298.06, 43.2496, 3.30342, 0, 0, NULL),
(81349, 15, -9471.84, -1295.54, 42.4933, 2.36405, 0, 0, NULL),
(81349, 16, -9472.6, -1291.94, 41.4566, 1.68005, 0, 0, NULL),
(81349, 17, -9472.69, -1291.07, 41.3582, 1.68005, 0, 0, NULL),
(81349, 18, -9471.62, -1289.48, 41.35, 0.897048, 0, 0, NULL),
(81349, 19, -9471.07, -1289.27, 41.3603, 0.105048, 5000, 1132803, NULL),
(81349, 20, -9471.07, -1289.27, 41.3603, 0.105048, 2000, 0, NULL),
(81349, 21, -9483.12, -1288.78, 41.5416, 3.11892, 0, 0, NULL),
(81349, 22, -9498.85, -1284.25, 43.0969, 2.97605, 0, 0, NULL),
(81349, 23, -9501.24, -1282.84, 43.5892, 2.8208, 0, 0, NULL),
(81349, 24, -9507.15, -1282.59, 44.0966, 3.22017, 0, 0, NULL),
(81349, 25, -9515.79, -1283.27, 44.2872, 3.22017, 0, 0, NULL),
(81349, 26, -9519.26, -1282.58, 44.1293, 2.94567, 0, 0, NULL),
(81349, 27, -9528.26, -1288.32, 43.7139, 3.97167, 0, 0, NULL),
(81349, 28, -9535.73, -1299.14, 44.2706, 4.66917, 0, 0, NULL);
